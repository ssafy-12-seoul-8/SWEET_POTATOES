# [Platinum IV] 묘수풀이: 모독 - 17226 

[문제 링크](https://www.acmicpc.net/problem/17226) 

### 성능 요약

메모리: 244820 KB, 시간: 3208 ms

### 분류

브루트포스 알고리즘, 구현, 시뮬레이션

### 제출 일자

2025년 4월 10일 10:44:04

### 문제 설명

<p>카드팩을 구하여 카드뭉치를 만들고 정해진 규칙에 따라 상대와 겨루는 게임을 'Collectible Card Game(CCG)'이라 부른다. 요즘 현정이와 준표가 즐기는 '돌게임'도 CCG 중 하나다.</p>

<p>돌게임에는 '하수인' 카드와 '주문' 카드가 있다. <strong>'하수인'</strong>이란 공격력과 생명력을 가진 개별적인 개체로 다른 게임의 몬스터와 비슷하다. <strong>'주문'</strong>이란 '전장'에 다양한 효과를 발휘하는 카드로 다른 게임의 마법과 비슷하다. <strong>'전장'</strong>이란 두 플레이어가 하수인을 배치하는 공간으로 다른 게임의 필드와 비슷하다.</p>

<p>돌게임의 주문카드 중에 <strong>'모독'</strong>이라는 카드가 있다. 이 카드는 전장에 있는 모든 하수인에게 피해를 1씩 주고, 이로 인해 죽은 하수인이 있다면 이 효과를 반복한다. 하수인은 피해를 받을 때마다 그만큼 생명력이 감소하며, 생명력이 0 이하가 되는 순간 죽는다. 주의할 것은 한 번에 여러 하수인이 죽었더라도 이로 인한 모독의 추가 반복 횟수는 1번이다. 예를 들어 전장에 생명력이 1, 1, 2, 3, 5인 다섯 하수인이 존재하는 상태에서 모독을 사용하면 생명력이 1인 하수인이 먼저 죽고, 이후 추가 발동으로 생명력이 2였던 하수인이 죽고, 이후 추가 발동으로 생명력이 3이었던 하수인이 죽는다. 이때 다시 한 번 모독이 발동하지만 생명력이 5였던 하수인은 생명력이 1이 된 상태에서 살아남고, 이번 모독으로 죽은 하수인이 없으므로 더 이상 반복하지 않는다.</p>

<p>각 플레이어는 자신의 턴에 하수인을 사용하여 공격할 수 있으며 돌게임에서 하수인 <em>X</em>가 하수인 <em>Y</em>를 공격하면 아래의 일이 동시에 발생한다.</p>

<ul>
	<li>하수인 <em>X</em>의 공격력만큼 하수인 <em>Y</em>가 피해를 받는다.</li>
	<li>하수인 <em>Y</em>의 공격력만큼 하수인 <em>X</em>가 피해를 받는다.</li>
</ul>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/f087b003-3ae4-457b-9fc4-bd01f9b0fb82/-/preview/" style="width: 800px; height: 369px;"></p>

<p style="text-align: center;"><그림1> 모독각의 한 예(예제1)</p>

<p><strong>'모독각'</strong>이란 자신의 하수인과 모독을 통해 <strong>상대방의</strong> 모든 하수인을 죽이는 상황을 뜻한다. 준표는 유독 모독각을 계산하지 못하는 현정이를 위해 모독 알리미를 선물하려 한다. 하지만 전자과인 준표는 학업만으로도 바빠 알리미 제작을 여러분에게 부탁했다. </p>

<p>현정이의 전장에는 이번 턴 한 번씩만 공격 가능한 하수인이 <em>N</em>개 있다. 현정이와 상대 전장의 하수인 정보가 주어졌을 때 현정이의 하수인들과 모독 한 장으로 상대 전장에 있는 하수인을 모두 처치할 수 있는지 판단하고, 있다면 어떤 순서로 이를 이룰 수 있는지 알려주는 프로그램을 작성해보자.</p>

### 입력 

 <p>첫 줄에 현정의 전장에 있는 하수인 수 <em>N</em>과 상대 전장의 하수인 수 <em>M</em>이 주어진다. (0 ≤ <em>N</em>, <em>M</em> ≤ 7)</p>

<p>이후 <em>N</em>줄에 걸쳐 차례로 현정이 전장의 1 ~ <em>N</em>번 하수인의 공격력과 생명력이 주어진다. 이후 <em>M</em>줄에 걸쳐 차례로 상대 전장의 1 ~ <em>M</em>번 하수인의 공격력과 생명력이 주어진다. 모든 공격력과 생명력은 양의 정수이며 12를 넘지 않는다.</p>

### 출력 

 <p>가능하다면 첫 줄에 로그의 개수 <em>L</em>(0 ≤ <em>L</em> ≤ <em>N</em>+1)을 출력한다.</p>

<p>이후 <em>L</em>개의 줄에 걸쳐 모독각을 만드는 로그를 한 줄씩 출력한다. 모든 로그는 순차적으로 처리되며 각 로그의 순서에 가능한 상황이어야 한다. 로그의 종류는 아래와 같다.</p>

<ul>
	<li>"attack <em>n</em> <em>m</em>": 현정이 전장의 <em>n</em>번 하수인이 상대 전장의 <em>m</em>번 하수인을 공격한다. 이때 두 하수인은 모두 죽지 않은 상태여야 한다. 현정이 전장의 어떤 하수인 <em>n</em>의 공격 로그는 최대 한 번 등장할 수 있다. 자신보다 앞 번호의 하수인이 죽었더라도 하수인의 번호는 변하지 않는다.</li>
	<li>"use modok": 모독을 사용한다. 이 로그도 최대 한 번 등장할 수 있다.</li>
</ul>

<p>가능한 로그의 종류가 여럿이라면 그 중 아무것이나 출력한다.</p>

<p>불가능하면 한 줄에 -1을 출력한다.</p>

